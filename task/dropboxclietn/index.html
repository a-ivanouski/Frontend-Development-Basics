<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <link href="style.css" rel="stylesheet" type="text/css" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js" type="text/javascript"></script>
    <script src="jquery.tmpl.min.js" type="text/javascript"></script>
    <script src="ajaxAndPromises.dropboxfileslist.js" type="text/javascript"></script>
    <script src="dropboxapifacade.js" type="text/javascript"></script>
</head>
<body>
    <div class="init-form">
        <div class="init-form__secret-input" style="display: none;">
            <input type="text" placeholder="Enter your secret code" />
            <div class="init-form__init-link">
                <a href="javascript:void(0)">Submit</a>
            </div>
        </div>
        <div class="init-form__dropbox-link">
            <a href="https://www.dropbox.com/1/oauth2/authorize?response_type=code&client_id=xedc2581vk0j4fb" target="_blank">Get dropbox secret key</a>
        </div>
    </div>
    <ul class="list">

    </ul>
</body>
</html>

<script type="text/ecmascript">
    $(document).ready(function () {
        $('.init-form__init-link a').on('click', function () {
            $('.list').dropboxfileslist({
			    key: $('.init-form__secret-input input').val() 
			});
        });
        
        $('.init-form__dropbox-link').on('click', function () {
            $('.init-form__secret-input').show();
            $(this).hide();
        });
    });
</script>